{"version":3,"file":"li-log.browser.min.js","sources":["../src/utils.js","../src/browser-version/log.browser.js","../src/browser.js","../src/browser-version/console.js"],"sourcesContent":["function mergeOptions(baseOptions, userOptions) {\n    \"use strict\";\n    const resultOptions = copyDeep(baseOptions),\n        keys = Object.keys(userOptions);\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n        const key = keys[i];\n\n        resultOptions[key] = userOptions[key];\n    }\n\n    return resultOptions;\n}\n\nfunction copyDeep(baseObj) {\n    function cloneObject(obj) {\n        const clone = {};\n\n        const objKeys = Object.keys(obj);\n\n        for (let i = objKeys.length - 1; i >= 0; i--) {\n            const key = objKeys[i];\n            \n            if(typeof(obj[key])===\"object\" && obj[key] !== null) {\n                clone[key] = cloneObject(obj[key]);\n            } else {\n                clone[key] = obj[key];\n            }\n        }\n\n        return clone;\n    }\n\n    const newObj = {},\n        keys = Object.keys(baseObj);\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n        const key = keys[i],\n            current = baseObj[key];\n        if (Array.isArray(current)) {\n            newObj[key] = current.slice(0);\n        } else if (typeof current === 'object') {\n            newObj[key] = cloneObject(current);\n        } else {\n            newObj[key] = current;\n        }\n    }\n\n    return newObj;\n}\n\nexport {\n    mergeOptions\n}","import * as utils from '../utils';\n\n// default styles\nconst styles = {\n    debug: \"font-style: italic; color: #1B2B34;\",\n    info: \"color: #6699CC;\",\n    warning: \"font-weight: bold; color: #AB7967;\",\n    error: \"font-weight: bold; color: #E24825;\",\n    critical: \"font-weight: bold; color: #FAFAFA; padding: 3px; background: linear-gradient(#D33106, #571402);\"\n};\n\nfunction Log(userOptions) {\n    const baseOptions = {\n            level: 1, // info as default\n            logMethods: [\n                {\n                    name: 'debug',\n                    level: 0,\n                    style: styles.debug\n                },\n                {\n                    name: 'info',\n                    level: 1,\n                    style: styles.info\n                },\n                {\n                    name: 'warning',\n                    level: 2,\n                    style: styles.warning\n                },\n                {\n                    name: 'error',\n                    level: 3,\n                    style: styles.error\n                },\n                {\n                    name: 'critical',\n                    level: 4,\n                    style: styles.critical\n                }\n            ],\n            transport: [\n                function (data) {\n                    console.log(data.text, data.style);\n                }\n            ],\n        };\n\n    const options = userOptions ? utils.mergeOptions(baseOptions, userOptions) : baseOptions;\n\n    options.logMethods.forEach((methodInfo) => {\n        if (methodInfo.level >= options.level) {\n            this[methodInfo.name] = function (...args) {\n                return log(options, methodInfo, args);\n            };\n        } else {\n            this[methodInfo.name] = function () {};\n        }\n    });\n\n    this.setLevel = function (level) {\n        if (Number.isInteger(level)) {\n            options.level = level;\n        } else if (typeof level === 'string') {\n            const methods = options.logMethods.filter((method) => {\n                return method.name === level;\n            });\n            if (Array.isArray(methods) && methods.length) {\n                options.level = methods[0].level;\n            }\n        } else {\n            console.log(`setLevel() level ${level} was not found in LiLog instance`);\n        }\n    };\n\n    function log(options, methodInfo, args) {\n        if (methodInfo.level < options.level) return;\n\n        const data = {\n            text: `%c${methodInfo.name} ${args}`,\n            style: methodInfo.style\n        };\n\n        options.transport.forEach((fn) => {\n            if (typeof fn === 'function') {\n                fn(data);\n            } else {\n                throw new Error('Transport item not a function');\n            }\n        });\n\n        return data;\n    }\n}\n\nexport { Log };","import { toConsole as console} from './browser-version/console';\nimport { Log as Logger } from './browser-version/log.browser';\n\nLogger.console = console;\n\nexport default Logger;\n\n","import { Log } from './log.browser.js';\n\nexport function toConsole(options) {\n    return new Log(options);\n}"],"names":["resultOptions","copyDeep","keys","Object","i","length","userOptions","clone","objKeys","obj","cloneObject","newObj","key","current","baseObj","Array","isArray","slice","methodInfo","level","options","data","name","style","transport","forEach","Error","baseOptions","styles","debug","info","warning","error","critical","log","text","utils","logMethods","args","setLevel","Number","isInteger","methods","filter","method","console"],"mappings":"kLAAA,eAAgD,KAKvC,MAHCA,EAAgBC,IAGjB,CAFDC,EAAOC,OAAOD,IAAPC,GAEN,CAAIC,EAAIF,EAAKG,MAALH,CAAc,EAAQ,CAALE,IAAQA,MACtBF,UAESI,cAM7B,aAA2B,cACG,KAKjB,MAJCC,IAID,CAFCC,EAAUL,OAAOD,IAAPC,GAEX,CAAIC,EAAII,EAAQH,MAARG,CAAiB,EAAQ,CAALJ,IAAQA,MACzBI,UAEU,QAAnB,KAAOC,IAAP,GAA4C,IAAbA,QACjBC,EAAYD,IAAZC,EAEAD,kBAUpB,GAHCE,KAGD,CAFDT,EAAOC,OAAOD,IAAPC,GAEN,CAAIC,EAAIF,EAAKG,MAALH,CAAc,EAAQ,CAALE,IAAQA,IAAK,IACjCQ,GAAMV,KACRW,EAAUC,SAFyB,CAGnCC,MAAMC,OAAND,GAHmC,CAIrBF,EAAQI,KAARJ,CAAc,CAAdA,CAJqB,CAKT,QAAnB,0CAAA,CAL4B,CAMrBH,IANqB,YCzB/C,aAA0B,kBAgEkB,MAChCQ,EAAWC,KAAXD,CAAmBE,EAAQD,WAEzBE,GAAO,WACEH,EAAWI,UADb,OAEFJ,EAAWK,KAFT,WAKLC,UAAUC,QAAQ,WAAQ,IACZ,UAAd,0BAGM,IAAIC,MAAJ,CAAU,+BAAV,CAJd,iBAvEEC,EAAc,OACL,CADK,YAEA,CACR,MACU,OADV,OAEW,CAFX,OAGWC,EAAOC,KAHlB,CADQ,CAMR,MACU,MADV,OAEW,CAFX,OAGWD,EAAOE,IAHlB,CANQ,CAWR,MACU,SADV,OAEW,CAFX,OAGWF,EAAOG,OAHlB,CAXQ,CAgBR,MACU,OADV,OAEW,CAFX,OAGWH,EAAOI,KAHlB,CAhBQ,CAqBR,MACU,UADV,OAEW,CAFX,OAGWJ,EAAOK,QAHlB,CArBQ,CAFA,WA6BD,CACP,WAAgB,SACJC,IAAIb,EAAKc,KAAMd,EAAKE,MAFzB,CAAA,CA7BC,EAoCdH,EAAUd,EAAc8B,MAAd9B,KAER+B,WAAWZ,QAAQ,WAAgB,GAE9BP,EAAWI,KAFmB,CACnCJ,EAAWC,KAAXD,EAAoBE,EAAQD,KADO,CAEX,UAAmB,4BAANmB,+CAC1BJ,SADX,CAFmC,CAMX,UAAY,CAApC,CANR,EAvCsB,MAiDjBK,SAAW,WAAiB,IACzBC,OAAOC,SAAPD,MACQrB,YACL,IAAqB,QAAjB,UAAJ,CAA+B,IAC5BuB,GAAUtB,EAAQiB,UAARjB,CAAmBuB,MAAnBvB,CAA0B,WAAY,OAC3CwB,GAAOtB,IAAPsB,IADK,CAAAxB,EAGZL,MAAMC,OAAND,KAA0B2B,EAAQrC,MAJJ,KAKtBc,MAAQuB,EAAQ,CAARA,EAAWvB,KALG,CAA/B,CAAA,aAQKe,6DAXhB,kNAzDEN,EAAS,OACJ,qCADI,MAEL,iBAFK,SAGF,oCAHE,OAIJ,oCAJI,UAKD,iGALC,WCARiB,QCDA,WAA4B,OACxB"}