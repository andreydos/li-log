{"version":3,"file":"liLog.browser.js","sources":["../src/utils.js","../src/browser-version/log.browser.js","../src/browser-version/console.js","../src/browser.js"],"sourcesContent":["function mergeOptions(baseOptions, userOptions) {\r\n    \"use strict\";\r\n    const resultOptions = copyDeep(baseOptions),\r\n        keys = Object.keys(userOptions);\r\n\r\n    for (let i = keys.length - 1; i >= 0; i--) {\r\n        const key = keys[i];\r\n\r\n        resultOptions[key] = userOptions[key];\r\n    }\r\n\r\n    return resultOptions;\r\n}\r\n\r\nfunction copyDeep(baseObj) {\r\n    function cloneObject(obj) {\r\n        const clone = {};\r\n\r\n        const objKeys = Object.keys(obj);\r\n\r\n        for (let i = objKeys.length - 1; i >= 0; i--) {\r\n            const key = objKeys[i];\r\n            \r\n            if(typeof(obj[key])===\"object\" && obj[key] !== null) {\r\n                clone[key] = cloneObject(obj[key]);\r\n            } else {\r\n                clone[key] = obj[key];\r\n            }\r\n        }\r\n\r\n        return clone;\r\n    }\r\n\r\n    const newObj = {},\r\n        keys = Object.keys(baseObj);\r\n\r\n    for (let i = keys.length - 1; i >= 0; i--) {\r\n        const key = keys[i],\r\n            current = baseObj[key];\r\n        if (Array.isArray(current)) {\r\n            newObj[key] = current.slice(0);\r\n        } else if (typeof current === 'object') {\r\n            newObj[key] = cloneObject(current);\r\n        } else {\r\n            newObj[key] = current;\r\n        }\r\n    }\r\n\r\n    return newObj;\r\n}\r\n\r\nexport {\r\n    mergeOptions\r\n}","import * as utils from '../utils';\r\n\r\n// default styles\r\nconst styles = {\r\n    debug: \"font-style: italic; color: #1B2B34;\",\r\n    info: \"color: #6699CC;\",\r\n    warning: \"font-weight: bold; color: #AB7967;\",\r\n    error: \"font-weight: bold; color: #E24825;\",\r\n    critical: \"font-weight: bold; color: #FAFAFA; padding: 3px; background: linear-gradient(#D33106, #571402);\"\r\n};\r\n\r\nfunction Log(userOptions) {\r\n    const baseOptions = {\r\n            level: 1, // info as default\r\n            logMethods: [\r\n                {\r\n                    name: 'debug',\r\n                    level: 0,\r\n                    style: styles.debug\r\n                },\r\n                {\r\n                    name: 'info',\r\n                    level: 1,\r\n                    style: styles.info\r\n                },\r\n                {\r\n                    name: 'warning',\r\n                    level: 2,\r\n                    style: styles.warning\r\n                },\r\n                {\r\n                    name: 'error',\r\n                    level: 3,\r\n                    style: styles.error\r\n                },\r\n                {\r\n                    name: 'critical',\r\n                    level: 4,\r\n                    style: styles.critical\r\n                }\r\n            ],\r\n            transport: [\r\n                function (data) {\r\n                    console.log(data.text, data.style);\r\n                }\r\n            ],\r\n        };\r\n\r\n    const options = userOptions ? utils.mergeOptions(baseOptions, userOptions) : baseOptions;\r\n\r\n    options.logMethods.forEach((methodInfo) => {\r\n        if (methodInfo.level >= options.level) {\r\n            this[methodInfo.name] = function (...args) {\r\n                return log(options, methodInfo, args);\r\n            };\r\n        } else {\r\n            this[methodInfo.name] = function () {};\r\n        }\r\n    });\r\n\r\n    this.setLevel = function (level) {\r\n        if (Number.isInteger(level)) {\r\n            options.level = level;\r\n        } else if (typeof level === 'string') {\r\n            const methods = options.logMethods.filter((method) => {\r\n                return method.name === level;\r\n            });\r\n            if (Array.isArray(methods) && methods.length) {\r\n                options.level = methods[0].level;\r\n            }\r\n        } else {\r\n            console.log(`setLevel() level ${level} was not found in LiLog instance`);\r\n        }\r\n    };\r\n\r\n    function log(options, methodInfo, args) {\r\n        debugger;\r\n        if (methodInfo.level < options.level) return;\r\n\r\n        const data = {\r\n            text: `%c${methodInfo.name} ${args}`,\r\n            style: methodInfo.style\r\n        };\r\n\r\n        options.transport.forEach((fn) => {\r\n            if (typeof fn === 'function') {\r\n                fn(data);\r\n            } else {\r\n                throw new Error('Transport item not a function');\r\n            }\r\n        });\r\n\r\n        return data;\r\n    }\r\n}\r\n\r\nexport { Log };","import { Log } from './log.browser.js';\r\n\r\nexport function toConsole(options) {\r\n    return new Log(options);\r\n}","import { toConsole as console} from './browser-version/console';\r\nimport { Log as Logger } from './browser-version/log.browser';\r\n\r\nLogger.console = console;\r\n\r\nexport default Logger;\r\n\r\n"],"names":["utils.mergeOptions","Logger","console"],"mappings":"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"}