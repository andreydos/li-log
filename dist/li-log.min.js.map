{"version":3,"file":"li-log.min.js","sources":["../src/lib/utils.js","../src/lib/li-log-core.js"],"sourcesContent":["function mergeOptions(baseOptions, userOptions) {\n    \"use strict\";\n    const resultOptions = copyDeep(baseOptions),\n        keys = Object.keys(userOptions);\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n        const key = keys[i];\n\n        resultOptions[key] = userOptions[key];\n    }\n\n    return resultOptions;\n}\n\nfunction copyDeep(baseObj) {\n    function cloneObject(obj) {\n        const clone = {};\n\n        const objKeys = Object.keys(obj);\n\n        for (let i = objKeys.length - 1; i >= 0; i--) {\n            const key = objKeys[i];\n            \n            if(typeof(obj[key])===\"object\" && obj[key] !== null) {\n                clone[key] = cloneObject(obj[key]);\n            } else {\n                clone[key] = obj[key];\n            }\n        }\n\n        return clone;\n    }\n\n    const newObj = {},\n        keys = Object.keys(baseObj);\n\n    for (let i = keys.length - 1; i >= 0; i--) {\n        const key = keys[i],\n            current = baseObj[key];\n        if (Array.isArray(current)) {\n            newObj[key] = current.slice(0);\n        } else if (typeof current === 'object') {\n            newObj[key] = cloneObject(current);\n        } else {\n            newObj[key] = current;\n        }\n    }\n\n    return newObj;\n}\n\nconst isBrowser = (new Function(\"try {return this===window;}catch(e){ return false;}\"))(),\n    isNode = (new Function(\"try {return this===global;}catch(e){return false;}\"))();\n\n\nexport {\n    mergeOptions,\n    isBrowser,\n    isNode\n}","import * as utils from './utils';\n\n// default browser text styles\nconst browserConsoleStyles = {\n    debug: \"font-browserStyle: italic; color: #1B2B34;\",\n    info: \"color: #6699CC;\",\n    warning: \"font-weight: bold; color: #AB7967;\",\n    error: \"font-weight: bold; color: #E24825;\",\n    critical: \"font-weight: bold; color: #FAFAFA; padding: 3px; background: linear-gradient(#D33106, #571402);\"\n};\n\nfunction Log(userOptions) {\n    const {isBrowser, isNode, mergeOptions} = utils,\n        baseOptions = {\n            level: 1, // info as default\n            logMethods: [\n                {\n                    name: 'debug',\n                    level: 0,\n                    browserStyle: browserConsoleStyles.debug\n                },\n                {\n                    name: 'info',\n                    level: 1,\n                    browserStyle: browserConsoleStyles.info\n                },\n                {\n                    name: 'warning',\n                    level: 2,\n                    browserStyle: browserConsoleStyles.warning\n                },\n                {\n                    name: 'error',\n                    level: 3,\n                    browserStyle: browserConsoleStyles.error\n                },\n                {\n                    name: 'critical',\n                    level: 4,\n                    browserStyle: browserConsoleStyles.critical\n                }\n            ],\n            transport: [\n                function (data) {\n                    if (isBrowser) {\n                        console.log(data.message, data.browserStyle);\n                    }\n                    if (isNode) {\n                        console.log(data.message);\n                    }\n                }\n            ],\n        };\n\n    const options = userOptions ? mergeOptions(baseOptions, userOptions) : baseOptions;\n\n    options.logMethods.forEach((methodInfo) => {\n        if (methodInfo.level >= options.level) {\n            this[methodInfo.name] = function (...args) {\n                return log(options, methodInfo, args);\n            };\n        } else {\n            this[methodInfo.name] = function () {};\n        }\n    });\n\n    this.setLevel = function (level) {\n        if (Number.isInteger(level)) {\n            options.level = level;\n        } else if (typeof level === 'string') {\n            const methods = options.logMethods.filter((method) => {\n                return method.name === level;\n            });\n            if (Array.isArray(methods) && methods.length) {\n                options.level = methods[0].level;\n            }\n        } else {\n            console.log(`setLevel() level ${level} was not found in LiLog instance`);\n        }\n    };\n\n    function log(options, methodInfo, args) {\n        if (methodInfo.level < options.level) return;\n\n        let message = `${methodInfo.name} ${args}`;\n\n        if (isBrowser) {\n            message = `%c${message}`;\n        } else if (isNode) {\n            message = `NODEJS ${message}`;\n        }\n\n        const data = {\n            message,\n            browserStyle: methodInfo.browserStyle,\n            nodeStyle: methodInfo.nodeStyle\n        };\n\n        options.transport.forEach((fn) => {\n            if (typeof fn === 'function') {\n                fn(data);\n            } else {\n                throw new Error('Transport item not a function');\n            }\n        });\n\n        return data;\n    }\n}\n\nexport { Log };"],"names":["resultOptions","copyDeep","keys","Object","i","length","userOptions","clone","objKeys","obj","cloneObject","newObj","key","current","baseObj","Array","isArray","slice","isBrowser","Function","isNode","browserConsoleStyles","methodInfo","level","options","message","name","data","browserStyle","nodeStyle","transport","forEach","Error","baseOptions","debug","info","warning","error","critical","log","mergeOptions","logMethods","args","setLevel","Number","isInteger","methods","filter","method"],"mappings":"kLAAA,eAAgD,KAKvC,MAHCA,EAAgBC,IAGjB,CAFDC,EAAOC,OAAOD,IAAPC,GAEN,CAAIC,EAAIF,EAAKG,MAALH,CAAc,EAAQ,CAALE,IAAQA,MACtBF,UAESI,cAM7B,aAA2B,cACG,KAKjB,MAJCC,IAID,CAFCC,EAAUL,OAAOD,IAAPC,GAEX,CAAIC,EAAII,EAAQH,MAARG,CAAiB,EAAQ,CAALJ,IAAQA,MACzBI,UAEU,QAAnB,KAAOC,IAAP,GAA4C,IAAbA,QACjBC,EAAYD,IAAZC,EAEAD,kBAUpB,GAHCE,KAGD,CAFDT,EAAOC,OAAOD,IAAPC,GAEN,CAAIC,EAAIF,EAAKG,MAALH,CAAc,EAAQ,CAALE,IAAQA,IAAK,IACjCQ,GAAMV,KACRW,EAAUC,SAFyB,CAGnCC,MAAMC,OAAND,GAHmC,CAIrBF,EAAQI,KAARJ,CAAc,CAAdA,CAJqB,CAKT,QAAnB,0CAAA,CAL4B,CAMrBH,IANqB,4NAezCQ,EAAa,GAAIC,SAAJ,CAAa,qDAAb,IACfC,EAAU,GAAID,SAAJ,CAAa,oDAAb,ICjDRE,EAAuB,OAClB,4CADkB,MAEnB,iBAFmB,SAGhB,oCAHgB,OAIlB,oCAJkB,UAKf,iGALe,QAQ7B,YAA0B,kBAsEkB,MAChCC,EAAWC,KAAXD,CAAmBE,EAAQD,WAE3BE,GAAaH,EAAWI,IAAXJ,IAAAA,oCAQXK,GAAO,UAAA,cAEKL,EAAWM,YAFhB,WAGEN,EAAWO,SAHb,WAMLC,UAAUC,QAAQ,WAAQ,IACZ,UAAd,0BAGM,IAAIC,MAAJ,CAAU,+BAAV,CAJd,iBAtFGd,IAAWE,IACda,EAAc,OACH,CADG,YAEE,CACR,MACU,OADV,OAEW,CAFX,cAGkBZ,EAAqBa,KAHvC,CADQ,CAMR,MACU,MADV,OAEW,CAFX,cAGkBb,EAAqBc,IAHvC,CANQ,CAWR,MACU,SADV,OAEW,CAFX,cAGkBd,EAAqBe,OAHvC,CAXQ,CAgBR,MACU,OADV,OAEW,CAFX,cAGkBf,EAAqBgB,KAHvC,CAhBQ,CAqBR,MACU,UADV,OAEW,CAFX,cAGkBhB,EAAqBiB,QAHvC,CArBQ,CAFF,WA6BC,CACP,WAAgB,YAEAC,IAAIZ,EAAKF,QAASE,EAAKC,aAFvB,YAKAW,IAAIZ,EAAKF,QANlB,CAAA,CA7BD,EAyCZD,EAAUlB,EAAckC,MAAdlC,KAERmC,WAAWV,QAAQ,WAAgB,GAE9BT,EAAWI,KAFmB,CACnCJ,EAAWC,KAAXD,EAAoBE,EAAQD,KADO,CAEX,UAAmB,4BAANmB,+CAC1BH,SADX,CAFmC,CAMX,UAAY,CAApC,CANR,EA7CsB,MAuDjBI,SAAW,WAAiB,IACzBC,OAAOC,SAAPD,MACQrB,YACL,IAAqB,QAAjB,UAAJ,CAA+B,IAC5BuB,GAAUtB,EAAQiB,UAARjB,CAAmBuB,MAAnBvB,CAA0B,WAAY,OAC3CwB,GAAOtB,IAAPsB,IADK,CAAAxB,EAGZT,MAAMC,OAAND,KAA0B+B,EAAQzC,MAJJ,KAKtBkB,MAAQuB,EAAQ,CAARA,EAAWvB,KALG,CAA/B,CAAA,aAQKgB,6DAXhB"}